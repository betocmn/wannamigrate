{% extends "_layouts/main.html" %}
{% load staticfiles %}
{% load i18n %}
{% load string_extras %}

{% block head %}

    {{ block.super }}

    <link rel="stylesheet" type="text/css" href="{% static "common/dropzone/css/dropzone.css"%}" />

{% endblock head %}

{% block content %}

    <div class="content myaccount">
        <h2 class="title">{% trans "Change My Password" %}</h2>
        <div class="interactions">
            <ul class="interaction-list">
                <li class="interaction-item">
                    <a href="{% url 'site:account' %}" class="interaction-link bt-profile active">{% trans "My profile" %}</a>
                </li>
                <li class="interaction-item">
                    <a href="{% url 'site:contracts' %}" class="interaction-link bt-contracts">{% trans "My contracts" %}</a>
                </li>
                <li class="interaction-item">
                    <a href="#" class="interaction-link bt-inbox">{% trans "Inbox" %} <span class="counter"></span>(0)</a>
                </li>
            </ul>
            <div class="my-profile-edit">

                {% include "site/_common/status.html" %}

                <form id="main_form" method="post" action="">
                    {% csrf_token %}
                    <div class="identity">

                        <div class="data">
                            <div class="field error-element{% if form.password.errors  %} has-error{% endif %}">
                                <label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
                                {{ form.password }} {{ form.password.errors }}
                            </div>
                            <div class="field error-element{% if form.confirm_password.errors  %} has-error{% endif %}">
                                <label for="{{ form.confirm_password.id_for_label }}">{{ form.confirm_password.label }}</label>
                                {{ form.confirm_password }} <div style="margin-left: 124px;">{{ form.confirm_password.errors }}</div>
                            </div>
                        </div>
                    </div>


                    <div class="language extra-field error-element{% if user_form.preferred_language.errors  %} has-error{% endif %}">
                        <label for="{{ user_form.preferred_language.id_for_label }}">{{ user_form.preferred_language.label }}</label>
                        {{ user_form.preferred_language }} {{ user_form.preferred_language.errors }}
                    </div>

                    <input class="bt-save button" value="{% trans 'Update Password' %}" type="submit" />

                    <div style="margin-bottom: 30px;"></div>

                </form>

            </div>
        </div>
    </div>

{% endblock content %}


{% block scripts %}

    {{ block.super }}

    <!-- JS REQUIRED BY THIS PAGE -->

    <!-- INLINE JS -->
    <script type="text/javascript">


        $( document ).ready( function() {

            // JS FORM Validation
            $( "#main_form" ).submit( function() {
                return validate_empty_fields( this, 'id_password,id_confirm_password' );
            });

        });

    </script>

    {% include "_layouts/analytics.html" %}

{% endblock scripts %}